"use strict";var WPFormsBuilderGeolocation=window.WPFormsBuilderGeolocation||function(r){var o;let p="";var l={init:function(){r(l.ready)},ready:function(){o=r("#wpforms-builder"),l.bindEvents(),l.loadDefaultState()},bindEvents:function(){o.on("click",".wpforms-field-option-row-enable_address_autocomplete.wpforms-geolocation-fill-settings input",l.autocompleteRequire).on("change",".wpforms-field-option-row-enable_address_autocomplete:not(.wpforms-geolocation-fill-settings) input",l.toggleAutocompleteOptions).on("change",".wpforms-field-option-row-enable_address_autocomplete:not(.wpforms-geolocation-fill-settings) input",l.toggleLimitLength).on("change",".wpforms-field-option-row-display_map input",l.toggleMapDisplay).on("change",".wpforms-field-option-row-map_position select",l.changeMapPosition)},loadDefaultState:function(){r(".wpforms-field-option-row-enable_address_autocomplete input,.wpforms-field-option-row-display_map input").each(function(){r(this).trigger("change")})},autocompleteRequire:function(){r(this).prop("checked")&&(l.fillPlacesAPI(),r(this).removeAttr("checked"))},toggleAutocompleteOptions:function(){if(!r(this).prop("disabled")){const o=r(this),e=o.prop("checked"),i=o.closest(".wpforms-field-option-group-inner").find(".wpforms-field-option-row-display_map"),t=o.closest(".wpforms-field-option-group-inner").find(".wpforms-field-option-row-input_mask"),n=function(){o.prop("disabled",!1)};o.prop("disabled",!0),e?(i.slideDown("",n),p=t.find("input").val(),t.find("input").val(""),t.slideUp("",n)):(i.find("input").removeAttr("checked").trigger("change"),i.slideUp("",n),t.find("input").val()||t.find("input").val(p),t.slideDown("",n))}},toggleMapDisplay:function(){var o,e,i,t,n,p;r(this).prop("disabled")||(e=(o=r(this)).prop("checked"),t=(i=o.closest(".wpforms-field-option-group-inner").find(".wpforms-field-option-row-map_position")).find("select").val(),n=o.closest(".wpforms-field-option").data("field-id").toString(),p=function(){o.prop("disabled",!1)},o.prop("disabled",!0),e?(l.updateMapPosition(n,t),i.slideDown("",p)):(l.hideMap(n),i.slideUp("",p)))},toggleLimitLength:function(){var o=r(this).prop("checked"),e=r(this).closest(".wpforms-field-option").data("field-id"),e=r("#wpforms-field-option-"+e+"-limit_enabled");e.length&&(o&&e.prop("checked")&&(e.prop("checked",!1).trigger("change"),r.alert({title:wpforms_builder.heads_up,content:wpforms_builder.disable_limit_length,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}})),e.prop("disabled",o))},changeMapPosition:function(){var o=r(this).closest(".wpforms-field-option").data("field-id").toString();l.updateMapPosition(o,r(this).val())},hideMap:function(o){r("#wpforms-field-"+o+" .wpforms-geolocation-map").hide()},updateMapPosition:function(o,e){l.hideMap(o),"above"===e?l.getAboveMapForPreviewField(o).show():"below"===e&&l.getBelowMapForPreviewField(o).show()},getAboveMapForPreviewField:function(o){var o=r("#wpforms-field-"+o),o=o.find(".primary-input").length?o.find(".primary-input"):o.find(".wpforms-address-scheme").first(),e=o.prev(".wpforms-geolocation-map");return e.length||(e=o.before(wpforms_builder.map.toString()),e=o.prev(".wpforms-geolocation-map")),e},getBelowMapForPreviewField:function(o){var o=r("#wpforms-field-"+o),o=o.find(".primary-input").length?o.find(".primary-input"):o.find(".wpforms-address-scheme").last(),e=o.next(".wpforms-geolocation-map");return e.length||(e=o.after(wpforms_builder.map.toString()),e=o.next(".wpforms-geolocation-map")),e},fillPlacesAPI:function(){r.alert({title:wpforms_builder.heads_up,content:wpforms_builder.places_provider_required,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}})}};return l}((document,window,jQuery));WPFormsBuilderGeolocation.init();